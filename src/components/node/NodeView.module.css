.nodeView {
  position: absolute;
  background-color: var(--node-editor-control-background, #ffffff);
  border: var(--node-editor-input-border);
  border-radius: var(--node-editor-radius-sm);
  box-shadow: var(--node-editor-shadow-sm);
  min-width: 150px;
  min-height: 50px;
  cursor: move;
  transition: box-shadow var(--node-editor-transition-duration);
  display: flex;
  flex-direction: column;
  overflow: visible;
}

.nodeView:hover {
  box-shadow: var(--node-editor-shadow-md);
}

/* Locked nodes should not be visually highlighted beyond the icon */
.nodeView[data-locked="true"] {}

.nodeView[data-selected="true"] {
  border-color: var(--node-editor-accent-color, #0066cc);
  box-shadow: var(--node-editor-shadow-selection);
}

.nodeView[data-dragging="true"] { cursor: grabbing; }

.nodeView[data-is-group="true"] {
  /* Subdued, token-driven appearance */
  background-color: var(
    --node-editor-group-node-background,
    color-mix(in srgb, var(--node-editor-separator-color, rgba(0, 0, 0, 0.12)) 6%, transparent)
  );
  border-style: dashed;
  border-width: 1px;
  border-color: var(--node-editor-group-node-border, var(--node-editor-divider-color, rgba(0, 0, 0, 0.12)));
  box-shadow: none;
  z-index: var(--node-editor-z-index-group);
}

.nodeView[data-is-group="true"][data-has-children="true"] {
  border-color: var(
    --node-editor-group-node-active-color,
    color-mix(in srgb, var(--node-editor-accent-color, #0066cc) 45%, var(--node-editor-divider-color, rgba(0, 0, 0, 0.12)))
  );
  background-color: var(
    --node-editor-group-node-active-background,
    color-mix(in srgb, var(--node-editor-accent-color, #0066cc) 8%, transparent)
  );
}

.nodeView[data-visual-state="info"] {
  border-color: var(--node-editor-accent-color, #0066cc);
  background-color: rgba(0, 102, 204, 0.05);
}

.nodeView[data-visual-state="success"] {
  border-color: var(--node-editor-success-color, #34c759);
  background-color: rgba(52, 199, 89, 0.05);
}

.nodeView[data-visual-state="warning"] {
  border-color: var(--node-editor-warning-color, #ff9500);
  background-color: rgba(255, 149, 0, 0.05);
}

.nodeView[data-visual-state="error"] {
  border-color: var(--node-editor-caution-color, #ff3b30);
  background-color: rgba(255, 59, 48, 0.05);
}

.nodeView[data-visual-state="disabled"] {
  opacity: var(--node-editor-opacity-disabled);
  pointer-events: none;
}

/* Placeholder for resizing state */
.nodeView[data-resizing="true"] {}

/* Decoration-less node appearance for label-like nodes */
.nodeView[data-plain-node="true"] {
  background-color: transparent;
  border: none;
  box-shadow: none;
  min-width: unset;
  min-height: unset;
}

.nodeView[data-plain-node="true"][data-selected="true"],
.nodeView[data-plain-node="true"]:hover,
.nodeView[data-plain-node="true"][data-locked="true"],
.nodeView[data-plain-node="true"][data-dragging="true"] {
  box-shadow: none;
  border: none;
}
